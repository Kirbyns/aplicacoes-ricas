<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicios</title>
</head>
<body>
    <div class="container">
        <h1>Exercicios Aula 03</h1>
        <p>Crie uma página contendo:
            • Um elemento de vídeo:
            • Crie controles de play e pausa através de inputs do tipo button, e utilize o meter para indicar o quanto do vídeo foi tocado
            • Um elemento de áudio:
            • Não pré-carregue nenhum dado do áudio
            • Adicione duas fontes diferentes (em MP3 e em OGG)
            • Adicione uma imagem (img) para dar play (não utilize button)
            • Ao clicar na imagem, carregue o áudio e troque a imagem de play por um gif de loading
            • Depois de carregar, dê play e troque a imagem por uma de pausa
            • Ao terminar de tocar o áudio, substitua novamente pela imagem de play
        </p>
        <hr>



        <div class="exercicio1">
            <h3>  O Video</h3>
            <video timeupdate="" id="video" src="midia/video.mp4" ></video>
            
            <div class="btn-group-lg">
                <button onclick="document.getElementById('video').play()" class="btn btn-dark center"> Play</button>
                <button onclick="document.getElementById('video').pause()" class="btn btn-warning center"> Pause</button>
            </div>
            <meter id="meter" value="0"  min="0" max="0" class="" ></meter>
        </div>
            <h3>O Audio</h3>
            
            <audio id="audio" preload="none">
                <source src="midia/asus-yamete-kudasai.mp3" type="audio/mpeg">
                <source src="midia/asus-yamete-kudasai.ogg" type="audio/ogg">
            </audio>
            <img id="button" onclick="document.getElementById('audio').play()" src="midia/play.png"  >

    </div>


  
    
</body>

<script>

    // VIDEO
    let meter = document.getElementById("meter");
    let video = document.getElementById("video");

    video.onloadedmetadata = function(){ // começa a processar só depois de carregar o video
        
        meter.setAttribute("max",video.duration) ;
        video.ontimeupdate = function() {  //o ontimeupdate é toda vez que muda o tempo de um video ou audio, então executa a função sempre que muda o tempo
            meter.value = video.currentTime;
        }
    }

    //AUDIO
    let audio = document.getElementById("audio");
    let imagem = document.getElementById("button");

    audio.onloadeddata = function(){
        imagem.setAttribute("src","midia/loading.gif")
    }
    
    

</script>
</html>